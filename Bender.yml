package:
  name: atalanta
  authors:
    - "Antti Nurmi <antti.nurmi@tuni.fi>"
    - "Abdesattar Kalache <abdesattar.kalache@tuni.fi>"

dependencies:
  rt-ibex: { git: "https://github.com/soc-hub-fi/rt-ibex.git", rev: "timing/hw_stacking" }
  clic: { git: "https://github.com/pulp-platform/clic.git", version: 2.0.0 }
  riscv-dbg: { git: "https://github.com/pulp-platform/riscv-dbg.git", version: 0.8.1 }
  apb_uart: { git: "https://github.com/pulp-platform/apb_uart.git", version: 0.2.1 }
  obi: { git: "https://github.com/pulp-platform/obi.git", version: 0.1.5 }
  axi: { git: "https://github.com/pulp-platform/axi.git", rev: "bfee21757bf090ec8e358456314b0b0fd3c90809" }
  apb: { git: "https://github.com/pulp-platform/apb.git", version: 0.2.4}
  apb_timer: { git: "https://github.com/pulp-platform/apb_timer.git", version: 0.1.0}
  apb_gpio: { git: "https://github.com/pulp-platform/apb_gpio.git", version: 0.2.0}
  opentitan_peripherals: { git: "https://github.com/pulp-platform/opentitan_peripherals.git", version: 0.4.0 }
  nanodma: { git: "https://github.com/ANurmi/NanoDMA.git", rev: "8da672a3a747115bd3869a819643737364e87fa9" }


sources:
  files:
    - src/ip/rt_pkg.sv
    - src/ip/safety_island/future/axi_obi/src/axi_to_detailed_mem_user.sv
    #- src/ip/safety_island/future/axi_obi/src/axi_to_obi.sv
    - src/ip/apb_spi_master/spi_master_apb_if.sv
    - src/ip/irq_pulse_cdc.sv
    - src/ip/axi_to_obi.sv
    - src/ip/safety_island/future/axi_obi/src/obi_to_axi.sv
    - src/ip/axi_to_obi_intf.sv
    - src/ip/obi_to_axi_intf.sv
    - src/ip/obi_to_apb_intf.sv
    - src/ip/obi_handshake_fsm.sv
    - src/ip/obi_cut_intf.sv
    - src/ip/obi_sram_intf.sv
    - fpga/hdl/src/xilinx_sp_BRAM.sv
    - src/ip/mock_uart.sv
    - src/ip/rt_core.sv
    - src/ip/timer_core.sv
    - src/ip/apb_mtimer.sv
    - src/ip/rt_ibex_bootrom.sv
    - src/ip/rt_interconnect.sv
    - src/ip/rt_peripherals.sv
    - src/ip/rt_debug.sv
    - src/ip/rt_top.sv

    - target: any(test, simulation)
      files:
        - src/tb/elfloader.cpp
        - src/tb/riscv_pkg.sv
        - src/tb/uart.sv
        - src/tb/vip_rt_top.sv
        - src/tb/tb_rt_ss.sv

    - target: any(fpga, xilinx)
      files:
      - fpga/hdl/src/configurable_clock_divider_fpga.sv
      - fpga/hdl/src/prim_clock_gating.sv
      - fpga/hdl/src/rt_top_fpga_wrapper_PYNQZ1.sv

vendor_package:
  - name: safety_island
    target_dir: src/ip/safety_island
    upstream: { git: "https://github.com/pulp-platform/safety_island.git", rev: "584eb697195c44ef1b1cbd1f4b7accdf5192200a" }
    include_from_upstream:
      #- "future/axi_obi/src/axi_to_obi.sv"
      - "future/axi_obi/src/obi_to_axi.sv"
      - "future/axi_obi/src/axi_to_detailed_mem_user.sv"

  - name: apb_spi_master
    target_dir: src/ip/apb_spi_master
    upstream: { git: "https://github.com/pulp-platform/apb_spi_master.git", rev: "3fce81084b15870f4bd9da7806cf950774f9672e"}
    include_from_upstream:
      - spi_master_apb_if.sv

